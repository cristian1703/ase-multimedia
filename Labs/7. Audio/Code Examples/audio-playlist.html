<!DOCTYPE html>
<html>
<head>
    <title>HTML5 - Audio Playlist</title>
    <style type="text/css">
        #playlist, #controls
        {
            background: gray;
            width: 400px;
            padding: 5px;
            font-family: Sans-Serif;
        }
        
        #playlist
        {            
            list-style-type: none;
        }
        
        #controls span
        {
            display: inline-block;
            min-width: 150px;
            text-align: right; 
            padding-right: 5px;           
            color: #eeeedd;
            background: #333;
        }
        
        #playlist .active
        {
            color: #7D7DFF;
        }
        
        #playlist li
        {
            color: #eeeedd;
            background: #333;
            padding: 5px;
            display: block;
            text-decoration: none;
            cursor: pointer;
        }
    </style>

    <script 
        src="https://code.jquery.com/jquery-latest.js"
        crossorigin="anonymous"></script>
</head>
<body>
    <audio id="audio">
        Your browser does not support the <code>audio</code> element.
    </audio>
    <p id="controls">
        <span id="currentPosition">dfs</span>
        <button id="btnPlayPause">||</button>
        <button id="btnForward">&gt;&gt;</button>
        <button id="btnNext">&gt;|</button>
    </p>
    <ul id="playlist">
        <li data-url="http://www.archive.org/download/bolero_69/Bolero.mp3">
            Ravel - Bolero
        </li>
        <li data-url="http://www.archive.org/download/MoonlightSonata_755/Beethoven-MoonlightSonata.mp3">
            Beethoven - Moonlight Sonata
        </li>
        <li data-url="http://www.archive.org/download/CanonInD_261/CanoninD.mp3">
            Pachelbel - Canon in D
        </li>
    </ul>

    <script type="text/javascript">
        $(function () {

            var audio = $('#audio')[0];
            var tracks = []; //track list

            // 1. Display the current time in seconds
            setInterval(function () {

                if (audio.duration) {
                    $("#controls span").text(
                      Math.floor(audio.currentTime) + " / " +
                        Math.floor(audio.duration));
                }
                else {
                    $("#controls span").text("Loading...");
                };
            }, 30);

            // 2. Iterate over the playlist in order to associate events
            $("#playlist li").each(function () {
                var url = $(this).data("url");
                tracks.push(url);

                $(this).click(function () {
                    play(url);
                });
            });

            // 3. Play/Next methods
            function play(url) {

                $("#playlist li[data-url='" + url + "']")
                    .addClass("active")
                    .siblings().removeClass("active");

                audio.src = url;
                audio.load();
                audio.play();
            }

            function next() {
                var index = tracks.indexOf(audio.src) + 1;
                if (index >= tracks.length) {
                    index = 0;
                }

                play(tracks[index]);
            }

            // 4. Associate events
            $("#btnPlayPause").click(function () {
                if (audio.paused) {
                    audio.play();
                    $("#btnPlayPause").text("||");
                }
                else {
                    audio.pause();
                    $("#btnPlayPause").text(">");
                }
            });

            $("#btnForward").click(function () {
                audio.currentTime += 10;
            });

            $("#btnNext").click(next);

            $(audio).on("ended", next);

            next(); // start playing
        });
    </script>
</body>
</html>
